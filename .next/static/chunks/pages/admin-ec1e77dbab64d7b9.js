(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(4110)}])},4110:function(e,t,a){"use strict";a.r(t);var s=a(5893),l=a(7294),r=a(7219);a(1664),t.default=()=>{let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)([]),[i,o]=(0,l.useState)([]),[c,d]=(0,l.useState)({title:"",description:"",images:[""],category:"",location:""}),[m,x]=(0,l.useState)(null),[g,u]=(0,l.useState)({name:"",quote:""}),[h,p]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[j,y]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[w,C]=(0,l.useState)("url"),[k,S]=(0,l.useState)([]),[P,L]=(0,l.useState)(""),E=async()=>{let e=await fetch("/api/projects"),a=await e.json();t(a)},T=async()=>{let e=await fetch("/api/testimonials"),t=await e.json();n(t)},O=async()=>{let e=await fetch("/api/leads"),t=await e.json();o(t)};(0,l.useEffect)(()=>{b&&(E(),T(),O())},[b]);let D=async e=>{e.preventDefault(),"admin123"===j?(f(!0),N("")):N("Invalid password")},z=async e=>{e.preventDefault();let t={...c,images:c.images.filter(e=>""!==e.trim()),category:c.category||"General",location:c.location||""};if(!t.title||!t.description||0===t.images.length){alert("Please fill in title, description, and at least one image URL.");return}await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),d({title:"",description:"",images:[""],category:"",location:""}),E()},I=async e=>{e.preventDefault();let t={...m,images:m.images.filter(e=>""!==e.trim()),category:m.category||"General",location:m.location||""};if(!t.title||!t.description||0===t.images.length){alert("Please fill in title, description, and at least one image URL.");return}await fetch("/api/projects",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),x(null),E()},q=async e=>{window.confirm("Are you sure you want to delete this project?")&&(await fetch("/api/projects",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),E())},A=async e=>{e.preventDefault(),await fetch("/api/testimonials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),u({name:"",quote:""}),T()},_=async e=>{await fetch("/api/testimonials",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),T()},B=async e=>{e.preventDefault(),L("Uploading...");try{let e=new FormData;Object.keys(c).forEach(t=>{"images"!==t&&e.append(t,c[t])}),k.forEach(t=>{e.append("images",t)});let t=await fetch("/api/upload",{method:"POST",body:e}),a=await t.json();t.ok?(L("✅ Project created successfully!"),d({title:"",description:"",images:[""],category:"",location:""}),S([]),document.getElementById("file-input").value="",E()):L("❌ Error: ".concat(a.message))}catch(e){L("❌ Upload failed: ".concat(e.message))}};return b?(0,s.jsxs)("div",{className:"py-20 bg-gray-100 min-h-screen",children:[(0,s.jsxs)("div",{className:"container mx-auto px-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-12",children:[(0,s.jsx)("h1",{className:"text-5xl font-serif font-bold text-center text-gray-800",children:"Admin Dashboard"}),(0,s.jsx)("button",{onClick:()=>f(!1),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Logout"})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md mb-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-serif font-bold text-gray-800 mb-6",children:"Manage Projects"}),(0,s.jsxs)("form",{onSubmit:"file"===w?B:z,className:"mb-8 bg-gray-50 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-2xl font-serif font-bold text-gray-700 mb-4",children:"Add New Project"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>C("url"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("url"===w?"bg-accent text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Image URLs"}),(0,s.jsx)("button",{type:"button",onClick:()=>C("file"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("file"===w?"bg-accent text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Upload Files"})]}),P&&(0,s.jsx)("div",{className:"p-3 rounded-lg text-sm ".concat(P.includes("✅")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:P})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Project Title",value:c.title||"",onChange:e=>d({...c,title:e.target.value}),className:"w-full p-3 rounded border border-gray-300",required:!0}),(0,s.jsxs)("select",{value:c.category||"",onChange:e=>d({...c,category:e.target.value}),className:"w-full p-3 rounded border border-gray-300",children:[(0,s.jsx)("option",{value:"",children:"Select Category"}),(0,s.jsx)("option",{value:"Living Room",children:"Living Room"}),(0,s.jsx)("option",{value:"Kitchen",children:"Kitchen"}),(0,s.jsx)("option",{value:"Bedroom",children:"Bedroom"}),(0,s.jsx)("option",{value:"Bathroom",children:"Bathroom"}),(0,s.jsx)("option",{value:"Office",children:"Office"}),(0,s.jsx)("option",{value:"Commercial",children:"Commercial"})]})]}),(0,s.jsx)("input",{type:"text",placeholder:"Location (e.g., Mumbai, India)",value:c.location||"",onChange:e=>d({...c,location:e.target.value}),className:"w-full p-3 rounded border border-gray-300 mb-4"}),(0,s.jsx)("textarea",{placeholder:"Project Description",value:c.description||"",onChange:e=>d({...c,description:e.target.value}),className:"w-full p-3 rounded border border-gray-300 mb-4",rows:"3",required:!0}),"url"===w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Images"}),c.images.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Image URL",value:e,onChange:e=>{let a=[...c.images];a[t]=e.target.value,d({...c,images:a})},className:"w-full p-3 rounded border border-gray-300"}),c.images.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>{let e=c.images.filter((e,a)=>a!==t);d({...c,images:e})},className:"ml-2 text-red-500 hover:text-red-700",children:(0,s.jsx)(r.Ybf,{size:20})})]},t)),(0,s.jsxs)("button",{type:"button",onClick:()=>d({...c,images:[...c.images,""]}),className:"text-accent font-bold py-2 px-4 rounded-full font-sans text-sm hover:bg-accent/10 transition-all flex items-center",children:[(0,s.jsx)(r.OvN,{className:"mr-2"}),"Add Another Image"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{htmlFor:"file-input",className:"block text-gray-700 font-bold mb-2",children:"Project Images *"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-accent/50 transition-colors",children:[(0,s.jsx)("input",{type:"file",id:"file-input",multiple:!0,accept:"image/*",onChange:e=>{let t=Array.from(e.target.files);S(t)},className:"hidden",required:!0}),(0,s.jsx)("label",{htmlFor:"file-input",className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsxs)("div",{className:"text-gray-600",children:[(0,s.jsx)("p",{className:"text-lg font-medium",children:"Click to upload images"}),(0,s.jsx)("p",{className:"text-sm",children:"PNG, JPG up to 10MB each"})]})]})})]}),k.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Selected files:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map((e,t)=>(0,s.jsx)("div",{className:"bg-gray-100 rounded-lg px-3 py-2 text-sm",children:e.name},t))})]})]}),(0,s.jsx)("button",{type:"submit",disabled:"file"===w?0===k.length||!c.title||!c.description:!c.title||!c.description||c.images.every(e=>""===e.trim()),className:"bg-accent text-white font-bold py-3 px-6 rounded-full font-sans text-lg hover:bg-accent/90 transition-all mt-4 w-full disabled:opacity-50 disabled:cursor-not-allowed",children:"file"===w?"Upload & Create Project":"Add Project"})]}),(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("span",{className:"font-bold text-gray-700",children:e.title}),e.category&&(0,s.jsx)("span",{className:"ml-2 text-xs bg-accent/10 text-accent px-2 py-1 rounded-full",children:e.category}),e.location&&(0,s.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["\uD83D\uDCCD ",e.location]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>x(e),className:"text-blue-500 hover:text-blue-700 mr-4",children:(0,s.jsx)(r.vPQ,{size:20})}),(0,s.jsx)("button",{onClick:()=>q(e.id),className:"text-red-500 hover:text-red-700",children:(0,s.jsx)(r.Ybf,{size:20})})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md mb-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-serif font-bold text-gray-800 mb-6",children:"Potential Leads"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(e=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-shadow duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(r.fzv,{className:"text-accent mr-3",size:24}),(0,s.jsx)("h3",{className:"text-2xl font-serif font-bold text-secondary",children:e.name})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 mb-4",children:[(0,s.jsx)(r.Imn,{className:"mr-3",size:20}),(0,s.jsx)("a",{href:"mailto:".concat(e.email),className:"hover:text-accent transition-colors",children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 mb-4",children:[(0,s.jsx)(r.tUt,{className:"mr-3",size:20}),(0,s.jsx)("span",{children:e.phone})]}),(0,s.jsxs)("div",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)(r.IC0,{className:"inline-block mr-2 text-gray-500",size:20}),(0,s.jsx)("span",{className:"align-middle",children:e.message})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-3xl font-serif font-bold text-gray-800 mb-6",children:"Manage Testimonials"}),(0,s.jsxs)("form",{onSubmit:A,className:"mb-8",children:[(0,s.jsx)("input",{type:"text",placeholder:"Client Name",value:g.name,onChange:e=>u({...g,name:e.target.value}),className:"w-full p-3 rounded bg-gray-50 border border-gray-300 text-gray-800 mb-4"}),(0,s.jsx)("textarea",{placeholder:"Testimonial Quote",value:g.quote,onChange:e=>u({...g,quote:e.target.value}),className:"w-full p-3 rounded bg-gray-50 border border-gray-300 text-gray-800 mb-4",rows:"4"}),(0,s.jsx)("button",{type:"submit",className:"bg-accent text-white font-bold py-3 px-6 rounded-full font-sans text-lg hover:bg-accent/90 transition-all",children:"Add Testimonial"})]}),(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"font-bold text-gray-800",children:e.name}),(0,s.jsx)("button",{onClick:()=>_(e.id),className:"text-red-500 hover:text-red-700",children:(0,s.jsx)(r.Ybf,{size:18})})]}),(0,s.jsxs)("p",{className:"text-gray-700",children:['"',e.quote,'"']})]},e.id))})]})]}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-2xl max-h-full overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-3xl font-serif font-bold text-gray-800",children:"Edit Project"}),(0,s.jsx)("button",{onClick:()=>x(null),className:"text-gray-500 hover:text-gray-800",children:(0,s.jsx)(r.q5L,{size:28})})]}),(0,s.jsxs)("form",{onSubmit:I,children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Project Title",value:m.title||"",onChange:e=>x({...m,title:e.target.value}),className:"w-full p-3 rounded border border-gray-300",required:!0}),(0,s.jsxs)("select",{value:m.category||"",onChange:e=>x({...m,category:e.target.value}),className:"w-full p-3 rounded border border-gray-300",children:[(0,s.jsx)("option",{value:"",children:"Select Category"}),(0,s.jsx)("option",{value:"Living Room",children:"Living Room"}),(0,s.jsx)("option",{value:"Kitchen",children:"Kitchen"}),(0,s.jsx)("option",{value:"Bedroom",children:"Bedroom"}),(0,s.jsx)("option",{value:"Bathroom",children:"Bathroom"}),(0,s.jsx)("option",{value:"Office",children:"Office"}),(0,s.jsx)("option",{value:"Commercial",children:"Commercial"})]})]}),(0,s.jsx)("input",{type:"text",placeholder:"Location (e.g., Mumbai, India)",value:m.location||"",onChange:e=>x({...m,location:e.target.value}),className:"w-full p-3 rounded border border-gray-300 mb-4"}),(0,s.jsx)("textarea",{placeholder:"Project Description",value:m.description||"",onChange:e=>x({...m,description:e.target.value}),className:"w-full p-3 rounded border border-gray-300 mb-4",rows:"4",required:!0}),(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Images"}),m.images.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Image URL",value:e,onChange:e=>{let a=[...m.images];a[t]=e.target.value,x({...m,images:a})},className:"w-full p-3 rounded border border-gray-300",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=m.images.filter((e,a)=>a!==t);x({...m,images:e})},className:"ml-2 text-red-500 hover:text-red-700",children:(0,s.jsx)(r.Ybf,{size:20})})]},t)),(0,s.jsxs)("button",{type:"button",onClick:()=>x({...m,images:[...m.images,""]}),className:"text-accent font-bold py-2 px-4 rounded-full font-sans text-sm hover:bg-accent/10 transition-all flex items-center mb-4",children:[(0,s.jsx)(r.OvN,{className:"mr-2"}),"Add Another Image"]}),(0,s.jsx)("button",{type:"submit",className:"bg-accent text-white font-bold py-3 px-8 rounded-full font-sans text-lg hover:bg-accent/90 transition-all w-full",children:"Save Changes"})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center py-20",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12 max-w-md w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-serif font-bold text-secondary mb-2",children:"Admin Login"}),(0,s.jsx)("div",{className:"w-16 h-1 bg-accent mx-auto rounded-full"})]}),(0,s.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:h?"text":"password",id:"password",value:j,onChange:e=>y(e.target.value),required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent/50 focus:border-accent transition-colors",placeholder:"Enter admin password"}),(0,s.jsx)("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?(0,s.jsx)(r.rzC,{size:20}):(0,s.jsx)(r.rDJ,{size:20})})]})]}),v&&(0,s.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-lg",children:v}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-accent text-white font-bold py-3 px-6 rounded-lg hover:bg-accent/90 transition-colors",children:"Login"})]})]})})}}},function(e){e.O(0,[219,774,888,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);